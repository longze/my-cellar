<!DOCTYPE html>
<html>
<head lang="zh-cn">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>原生 Ajax 写法 - 小强赵的个人站点</title>
    <script>
        // 用户通过搜索引擎到文章详情页时，跳到首页并进行哈希路由
        var href = window.location.href.replace(/[^:|\/]\//,function (matchStr){
            return matchStr + 'index.html#!';
        });
        window.location.href = href.replace('/main.html', '');
    </script>
</head>
<body>
<header>
    <h1> 小强赵的个人站点 </h1>
    <h2> 精进自己，服务他人 </h2>
</header>
<div>
    <h1 id="header-1">原生 Ajax 写法</h1>
<blockquote>
<p>纯收集</p>
</blockquote>
<h2 id="header-1-1">代码</h2>
<pre><code class="lang-js">
//XHR = new XMLHttpRequest();   // 非IE内核
//XHR = new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;); ie7及以上版本

var XHR = window.XMLHttpRequest ? (new XMLHttpRequest()) : (new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;)) ;

    if(XHR){  
        XHR.open(&quot;get&quot;,url);   
        XHR.onreadystatechange = function () {  
            // readyState值说明  
            // 0,初始化,XHR对象已经创建,还未执行open  
            // 1,载入,已经调用open方法,但是还没发送请求  
            // 2,载入完成,请求已经发送完成  
            // 3,交互,可以接收到部分数据  

            // status值说明  
            // 200:成功  
            // 404:路径错误  
            // 500:服务器内部错误  
            if (XHR.readyState == 4 &amp;&amp; XHR.status == 200) {  
                //XHR.responseText 返回的数据
                // 主动释放,JS本身也会回收的  
                XHR = null;  
            }  
        };  
        XHR.send();  
    }
</code></pre>

</div>
</body>
</html>