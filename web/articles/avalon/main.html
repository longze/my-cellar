<!DOCTYPE html>
<html>
<head lang="zh-cn">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>先将avalon用起来 - 龙则的博客站点</title>
    <script>
        // 用户通过搜索引擎到文章详情页时，跳到首页并进行哈希路由
        var href = window.location.href.replace(/[^:|\/]\//,function (matchStr){
            return matchStr + 'index.html#!';
        });
        window.location.href = href.replace('/main.html', '');
    </script>
</head>
<body>
<header>
    <h1>
        龙则个人站点
    </h1>

    <h2>
        记录工作与生活的所得所感
    </h2>
</header>
<div>
    <h1 id="header-1">先将avalon用起来</h1>
<h2 id="header-1-1">官网</h2>
<p>官网:<a href="http://avalonjs.github.io/" target="_blank">http://avalonjs.github.io/</a></p>
<p>社区:<a href="http://rubylouvre.github.io/mvvm/avalon.api.html" target="_blank">http://rubylouvre.github.io/mvvm/avalon.api.html</a></p>
<p>Git仓库地址:<a href="https://github.com/RubyLouvre/avalon" target="_blank">https://github.com/RubyLouvre/avalon</a></p>
<h2 id="header-1-2">入门Demo一单项绑定</h2>
<p>通过输入框改变：html文本节点内容、差值表达式、内存。</p>
<p>ViewModel，通过avalon.define来定义，动态绑定DOM。
通过 ms-controller 来指定绑定的vm。</p>
<p>demo-1：<a href="./demo-1.html" target="_blank">./demo-1.html</a></p>
<h2 id="header-1-3">入门demo二遍历</h2>
<p>列表间数据和对象的相互影响。</p>
<p>ms-repeat 和 ms-each 都可以对数组和对象进行遍历，
{{el}} 引用数组的项，{{$key}} 和 {{$val}} 引用对象的key和value。
对象的一级属性修改可以被DOM监控到，但是数组项的改变不会直接反应到DOM上。</p>
<p>demo-2：<a href="./demo-2.html" target="_blank">./demo-2.html</a></p>
<h2 id="header-1-4">监控数组</h2>
<p>要想让数组的改变可以被监控到可以用set等方法来操作。</p>
<p>在官网上找下面这些方法的使用介绍：
pushArray，remove，removeAt，removeAll，clear，ensure（不存在时才添加），size（用来操作length）。</p>
<p>demo-3：<a href="./demo-3.html" target="_blank">./demo-3.html</a></p>
<h2 id="header-1-5">watch</h2>
<p>通过$watch来监听属性的改变，可以在期间做一些加工，或者手动触发其他事件。</p>
<p>demo-watch，对手机号的一些监听：<a href="./demo-watch.html" target="_blank">./demo-watch.html</a></p>
<p>watch的另外一个用法就是监听第二级属性的改变，应为默认状态下ViewModel只能监听到一级属性的改变。
还有数组长度的变化也可以通过watch来监听。</p>
<h2 id="header-1-6">fire</h2>
<p>ViewModel之间的时间传递机制，是一种广播机制，
广播的定位与DOM的结构是一样的，方向有三种：up、down、all。
触发时可以指定改变值。</p>
<p>demo-fire：<a href="./demo-fire.html" target="_blank">./demo-fire.html</a></p>
<h2 id="header-1-7">scan</h2>
<p>扫描DOM树，avalon默认在domReady时，从body开始扫描一次，以后自己动态添加了新内容，需要自己手动scan。</p>
<h2 id="header-1-8">其他</h2>
<p>还有其他重要的API，在官网可以查到全集，
<a href="http://avalonjs.github.io/#zh/apis/index.html" target="_blank">http://avalonjs.github.io/#zh/apis/index.html</a>，</p>

</div>
</body>
</html>