<!DOCTYPE html>
<html>
<head lang="zh-cn">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Android Native - 小强赵的个人站点</title>
    <script>
        // 用户通过搜索引擎到文章详情页时，跳到首页并进行哈希路由
        var href = window.location.href.replace(/[^:|\/]\//,function (matchStr){
            return matchStr + 'index.html#!';
        });
        window.location.href = href.replace('/main.html', '');
    </script>
</head>
<body>
<header>
    <h1> 小强赵的个人站点 </h1>
    <h2> 精进自己，服务他人 </h2>
</header>
<div>
    <h1 id="header-1">Android Native</h1>
<blockquote>
<p>Android 原生 App 自学笔记。</p>
</blockquote>
<h2 id="header-1-1">概要</h2>
<p>2007.11.05 谷歌推出。</p>
<p>Android 是操作系统，基于 Linux，原产于名为 Android.Inc 的一家独立公司，2005 年被谷歌收购。Android Native 是运行在该系统上的一种应用形式。</p>
<p>主要版本:</p>
<ul>
<li>Android 1.1, 发布于 2008.09</li>
<li>Android 2.0, 发布于 2009.10.26, 代号 Eclair(松饼)</li>
<li>Android 3.0, 发布于 2011.02.03, 代号 Honeycomb(蜂巢)</li>
<li>...</li>
<li>Android 9.0, 发布于 2018.05.09, 代号 Pie(派)</li>
<li>Android 10.0(Android Q), 预计今年到达战场，之后不会再按照基于美味零食或甜点的字母顺序命名，而是转换为版本号。开始提供系统级的黑暗模式，大部分预装应用、抽屉、设置菜单和 Google Feed 资讯流等界面和按钮，都会变成以黑色为主色调，就和你在 macOS Mojave 中看到的暗色界面一样。</li>
</ul>
<p>经过 10 年 10 个版本的更新，之前的很多问题现在已经不是问题了，我们需要跟着最新的教程来学。Android Native 的开发整体再走下坡路，新教程比较少，只能把网上零散的资料拼接起来。</p>
<h2 id="header-1-2">IDE 的选择</h2>
<p>看了最近几年国外的一下文章，IntelliJ IDEA 和 Android Studio 是全世界 Android 开发者比较推荐的，前者收费后者免费，再结合教程的丰富程度选择了 Android Studio。</p>
<p>官网: <a href="https://developer.android.com/studio" target="_blank">https://developer.android.com/studio</a></p>
<p>遇到的问题:</p>
<ul>
<li>Unable to access Android SDK add-on list</li>
</ul>
<p>由于国内网络环境 Android SDK 和其他一些组件安装失败，搞到很晚没解决，最可气的是官方说不应该有这问题，看来外国人不了解我天朝上国，第二天有点忙在夜深人静的时候开始研究，试着卸载重装居然通过了。我的梯子很给力。</p>
<h2 id="header-1-3">Phone, hello world</h2>
<p> 2016 年之前 Android Native 的开发语言只有 Java 可选，2016年2月15日发布了 Kotlin。这比较像当年的 Objective-C 和 Swift，Objective-C 是 1980 发明的语言，它进入大众视野是伴随 2007 年第一代 Iphone 的发布。Swift 是 2014 年发布的，面对领先 7 年的 Objective-C，经过 5 年的追赶依然被压一头(可以参考 2019.07 (PYPL)[<a href="http://pypl.github.io/PYPL.html" target="_blank">http://pypl.github.io/PYPL.html</a>] 发布的全球语言受欢迎排行榜)。所以我们当下不打算进入 Kotlin 的学习，而是依然以 Java 为主。</p>
<p>Android Studio 第一映像很不错，第一次进入有多种应用可以选择:</p>
<ul>
<li>Phone and Tablet, 手机和平板</li>
<li>Wear OS, 智能手表</li>
<li>TV</li>
<li>Andriod Auto, 车载应用</li>
<li>Andriod Things, 嵌入式设备应用(自动售货机, 智能门禁, 物联网)</li>
</ul>
<p>选择 Phone and Tablet，任意选择一个模板，选择一下 Java 语言和 Android 9.0，一个项目就生成了，下载依赖需要一些时间耐心等待。在 /app/src/main/res/layout 下就是页面了(注意左上角有 Android 和 Project Files 等多种显示模式)，点开可以大体预览页面。</p>
<p>手头没有真机的可以先用模拟器玩着，这里介绍外挂 Genymotion 模拟器，配置方法如下:</p>
<ul>
<li><ol>
<li>安装 VirtualBox，从 <a href="https://www.virtualbox.org/wiki/Downloads" target="_blank">https://www.virtualbox.org/wiki/Downloads</a> 下载</li>
</ol>
</li>
<li><ol>
<li>安装 Genymotion，从 <a href="https://www.genymotion.com/download/" target="_blank">https://www.genymotion.com/download/</a> 下载 Genymotion。下载是要用邮箱注册账号后才能下载。</li>
</ol>
</li>
<li><ol>
<li>启动 Genymotion 并登录，Next。</li>
</ol>
</li>
<li><ol>
<li>accept agreement, Next.</li>
</ol>
</li>
<li><ol>
<li>选择手机安装，比如选择 Samsung Galaxy S10，409M 装的比较慢，手机类型并不全，集中在 Samsung、Google、HTC。</li>
</ol>
</li>
<li><ol>
<li>点击手机右侧图标，start 启动手机，启动成功后可以看到一个手机页面(你可以同时启动多个手机)。</li>
</ol>
</li>
<li><ol>
<li>在 Android Studio 上可以看到我们刚才启动的手机，选择一个就可以用模拟器看写的页面了。</li>
</ol>
</li>
</ul>
<p>模拟器的机型并不全，连我中华大华为都没有，差评。直接真机调试比较简单，配置如下:</p>
<ul>
<li><ol>
<li>Android Studio，顶部 app / Edit / USB Device。</li>
</ol>
</li>
<li><ol>
<li>手机上打开设置，点开”开发者选项“，将”USB调试打开“。</li>
</ol>
</li>
<li><ol>
<li>Android 4.2 以后的系统可以隐藏”开发者选项“，点击“关于手机”，然后连续多次点击“版本号”，可以将”开发者选项“的隐藏取消掉，返回设置中就可以看到了。</li>
</ol>
</li>
</ul>
<p>连上手机之后运行的时候报 “Session &#39;app&#39;: Installation did not succeed.”</p>
<h2 id="header-1-4">系统性学习</h2>
<h3 id="header-1-4-1">概述</h3>
<p>在搭建完前面的步骤后我们就可以进入系统性学习的步骤了，高效直接的方式是参照官方文档再结合第三方的视角，于是选择了下面两个参考资料:</p>
<ul>
<li>官方资料: <a href="http://hukai.me/android-training-course-in-chinese/index.html" target="_blank">Android Training</a>, <a href="https://developer.android.com/guide/index.html" target="_blank">Android API Guides</a>.</li>
<li>中文书推荐: 《疯狂Android讲义(第4版)》.</li>
</ul>
<p>这里不会将资料全部搬运过来，在学习中提炼重点，摘录备忘。</p>
<p>交互软件离不开三样东西: 组件，布局，事件。组件是实现特定功能的封转，布局是对交互元素的管理，事件连接着用户行为和数据的处理与展示。</p>
<h3 id="header-1-4-2">建立简单的用户界面</h3>
<p>先整理一下前面 hello world 的代码:</p>
<pre><code>${project root}
    ├── app/src/main   主要代码
        ├── res
            ├── layout
                ├── activity_main.xml 框架页，定义了页面框架，通过 include 将下面 content_main.xml  文件引入
                └── content_main.xml 内容页文件，ConstraintLayout 内含 TextView 组件
            ├── menu/menu_main.xml  导航文件，并没有像 content_main.xml 一样被 activity_main.xml 直接 include 进界面，而是通过下面的 MainActivity.java 文件
            └── values/ 定义一系列文案和色值等
        └── java/com/xiaoqiangzhao/android_hello_word/MainActivity.java 主控制文件
</code></pre><p>Android 的图形用户界面由多个视图（View）和视图组（ViewGroup）构建而成。View 是通用的 UI 窗体小组件，如：按钮（Button）、文本框（Text field）；而 ViewGroup 则是用来定义子视图布局的不可见的容器，如：网格部件（grid）、垂直列表部件（vertical list）。</p>
<p>Android 提供了一系列对应于 View 和 ViewGroup 子类的 XML 标签，以便我们用 XML 创建自己的 UI。Layouts 是 ViewGroup 的子类。</p>
<p><img src="./img/viewgroup.png" alt="UI 结果图"></p>
<p>View 对象通常称为“微件”，可以是众多子类之一，例如 Button 或 TextView。ViewGroup 对象通常称为“布局”，可以是提供其他布局结构的众多类型之一，例如 LinearLayout 或 ConstraintLayout。</p>
<p>结合前端的经验我把布局组件和功能组件做如下分类:</p>
<pre><code>Android UI
    ├── 影响位置的控件:
        ├── Layouts: ConstraintLayout, LinearLayout, TableLayout 等
        ├── Containers: Spinner, ScrollView, include 等
        └── Legacy: GridLayout, GridView, ListView 等
    └── 承载交互功能的控件
        ├── Widget: WebView, ProcessBar, SearchView 等
        ├── Text: TextView, E-mail, Phone 等
        ├── Buttons: Button, ChecBox, Switch
        └── Google: MapView, AdView
</code></pre><p>原生提供的控件就像 web 中浏览器提供的标签，是基础，复杂的控件都是基于基础控件的组合封装，原生的功能较弱，一般都会搭配 UI 库来使用。</p>
<h2 id="header-1-5">参考</h2>
<p><a href="https://zhuanlan.zhihu.com/p/70005857" target="_blank">最新最全面的Android学习指南</a></p>
<p><a href="https://www.slant.co/topics/1321/~best-ides-for-android-development" target="_blank">What are the best IDEs for Android development?</a></p>
<p><a href="https://www.amarinfotech.com/best-android-development-tools-2018.html" target="_blank">Top 10 Android Development Tools 2018</a></p>
<p><a href="https://www.tutorialspoint.com/android/android_hello_world_example.htm" target="_blank">Android - Hello World Example</a></p>
<p><a href="https://www.zhihu.com/question/22148127/answer/730635611" target="_blank">配色学习</a></p>
<p><a href="https://medium.com/swiftify/swift-vs-objective-c-comparison-32aba9dad4e3" target="_blank">Swift vs Objective-C in 2019</a></p>
<p><a href="https://blog.csdn.net/qq_33505204/article/details/78452286" target="_blank">Android Studio 模拟器的选择和安装</a></p>

</div>
</body>
</html>